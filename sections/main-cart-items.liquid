<section class="container" style="padding:40px 0">
  <h1>Cart</h1>

  {% if cart.item_count == 0 %}
    <p>Your cart is empty.</p>
    <a class="btn" href="/collections/all">Shop products</a>
  {% else %}
    <form action="/cart" method="post" novalidate>
      <table style="width:100%; border-collapse: collapse; margin: 16px 0;">
        <thead>
          <tr style="border-bottom:1px solid #eee">
            <th style="text-align:left; padding:8px 0">Product</th>
            <th style="text-align:center; padding:8px 0">Qty</th>
            <th style="text-align:right; padding:8px 0">Total</th>
          </tr>
        </thead>
        <tbody>
          {% for item in cart.items %}
            <tr style="border-bottom:1px solid #f2f2f2">
              <td style="padding:10px 0; display:flex; gap:12px; align-items:center;">
                {% if item.image %}
                  {{ item.image | image_url: width: 120 | image_tag: alt: item.title, style: 'width:64px;height:auto;border-radius:8px;' }}
                {% endif %}
                <div>
                  <a href="{{ item.url }}">{{ item.product.title }}</a>
                  {% unless item.product.has_only_default_variant %}
                    <div style="opacity:.7; font-size:.9rem">{{ item.variant.title }}</div>
                  {% endunless %}
                </div>
              </td>
              <td style="text-align:center;">
                <input type="number" name="updates[]" value="{{ item.quantity }}" min="0" style="width:70px; padding:6px; border:1px solid #ddd; border-radius:8px;">
              </td>
              <td style="text-align:right; white-space:nowrap;">{{ item.final_line_price | money }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>

      <div style="display:flex; justify-content:space-between; align-items:center; gap:12px;">
        <a class="btn btn--ghost" href="/collections/all">Continue shopping</a>
        <div style="text-align:right">
          <div style="margin-bottom:8px;">Subtotal: <strong>{{ cart.total_price | money }}</strong></div>
          <button class="btn" name="checkout" type="submit">Checkout</button>
        </div>
      </div>
    </form>
  {% endif %}
</section>

{% schema %}
{
  "name": "Main cart items",
  "settings": []
}
{% endschema %}
